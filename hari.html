<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>{{heading}}</title>
    <link rel="icon" href="https://i.ibb.co/M8S0Zzj/live-streaming.png" type="image/x-icon" />
    <meta name="description" content="Stream your videos and movies in high-quality 1080p Free and get tools to boost engagement all in one place." />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />

    <!-- Stylesheets -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.plyr.io/3.6.12/plyr.css" />

    <!-- Custom CSS -->
    <style>
        /* Base Styles */
        html, body {
            font-family: "Roboto", 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
            font-size: 1em;
            background-color: #efefef;
            line-height: 1.4;
            height: 100%;
            margin: 0;
            padding: 0;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        .containerbox {
            overflow: hidden;
            margin: 0 10px;
        }

        .site-content {
            padding: 20px;
        }

        /* Header Styles */
        .header {
            text-align: center;
            height: 55px;
            line-height: 55px;
            color: #ffffff;
            background-color: #2962ff;
            box-shadow: rgba(50, 50, 93, 0.25) 0px 2px 5px -1px,
                        rgba(0, 0, 0, 0.3) 0px 1px 3px -1px;
        }

        .header__logo {
            font-weight: 700;
            padding: 0 25px;
        }

        /* Video Player Styles */
        .video-container {
            position: relative;
            display: block;
            max-width: 100%;
            padding-top: 56.25%; /* Aspect ratio for a 16:9 video */
        }

        video {
            position: absolute; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
        }

        /* Responsive Styles */
        @media only screen and (max-width: 768px) {
            .site-content {
                position: absolute;
                top: 55px;
                right: 0;
                left: 0;
                bottom: 0;
                overflow-y: scroll;
                -webkit-overflow-scrolling: touch;
            }
            
            .menu {
                position: absolute;
                left: 0;
                top: 0;
                bottom: 0;
                background-color: #3849a2;
                width: 250px;
                transform: translateX(-250px);
            }
        }

        /* Button Styles */
        .button-container {
            display: flex; 
            flex-wrap: wrap; 
            justify-content: space-between; 
            margin-top: 10px; 
        }

        .block {
            flex-grow: 1; /* Allow buttons to grow equally */
            margin-right: 10px; /* Space between buttons */
            border-radius: 4px;
            background-color: #2962ff; 
            color: white; 
            padding: 10px; 
            font-size: 16px; 
            cursor:pointer; 
            text-align:center; 
        }

        .block:hover {
            background-color:#ddd; 
            color:black; 
        }

        /* Modal Styles */
        .modal {
            display:none; 
            position :fixed; 
            z-index :1; 
            left :0; 
            top :0; 
            width :100%; 
            height :100%; 
            background-color :rgba(0,0,0,0.4);
        }

        .modal-content {
          background-color:white; 
          margin:auto; 
          padding :20px; 
          border-radius :9px; 
          max-width :400px; /* Set a maximum width for the modal */
          width :90%; /* Make it responsive */
      }

      .close {
          color:#aaa; 
          float:right; 
          font-size :28px; 
          font-weight:bold; 
      }

      .close:hover,
      .close :focus {
          color:black; 
          text-decoration:none; 
          cursor:pointer; 
      }
        
      /* Additional Styles */
      .alert {
          padding :20px; 
          background-color:#fff; 
          border-radius :9px; 
          color:#817b8b; 
      }
      
      p { color:#000; }
      
      /* Add more styles as needed */
    </style>
</head>

<body>
    <div class="site-container">
      <div class="site-pusher">
        
        <!-- Header -->
        <header class="header">
          <a href="#" class="header__logo">OMG ONLINE STREAMING</a>
        </header>

        <!-- Main Content -->
        <div class="site-content">
          <div class="containerbox">
            
              <!-- Video Player -->
              <div class="video-container">
                  <video id="myVideo" controls src="{{ src }}" poster="https://envs.sh/pih.jpg">
                      Your browser does not support the video tag.
                  </video>
              </div>

              <!-- File Info -->
              <div id="info-box">
                  <p><strong>File Details:</strong></p>
                  <p><strong>Name:</strong> {{filename}}</p>
                  <p><strong>Size:</strong> {{file_size}}</p>
              </div>

              <!-- Player Buttons -->
              <div class='button-container'>
                  <button id='vlc-btn' class='block' onclick='playOnline()'>
                      <img src='https://i.ibb.co/GtnGhBV/videolan-vlc-logo-icon-170258.png' alt='vlc_logo' width='110' height='40'/>
                      VLC Player
                  </button>
                  <button id='mx-btn' class='block' onclick='playOnlineMx()'>
                      <img src='https://i.ibb.co/djV3Fn8/mxlogo.png' alt='mx_logo' width='120'/>
                      MX Player
                  </button>
                  <button id='sp-btn' class='block' onclick='playOnlinesp()'>
                      <img src='https://i.ibb.co/XjjH0k8/kmplaylogo.png' alt='splayer_logo' width='130'/>
                      KM Player
                  </button>
                  <button id='pi-btn' class='block' onclick='playOnlinepi()'>
                      <img src='https://i.ibb.co/JsDNHgz/c0C4vnAa.png' alt='playit_logo' width='140'/>
                      Playit Player
                  </button>
              </div>

              <!-- Download Links -->
              <div class='con1'>
                  <a id='demo3' onclick='showLinkModal("{{src}}")' class='block'><i class='fa fa-download'></i> Download Now</a>
                  <a id='demo3' href='{{link}}' class='block'><i class='fa fa-link'></i> Get Telegram File</a>
                  <a id='demo3' href='https://t.me/OMGxCloud' class='block'><i class='fa fa-telegram'></i> Join Updates Channel</a>
              </div>

              <!-- Modal for Download Link -->
              <div id='link-modal' class='modal'>
                  <div class='modal-content'>
                      <span class='close' onclick='closeLinkModal()'>&times;</span>
                      <p><strong>The Download will Automatically Start in 5 seconds:</strong></p>
                      <p id='link-timer'>5</p>
                      <p id='link'></p>
                  </div>
              </div>

              <!-- Disclaimer and Report Button -->
              <div class='containerùóë'>
                  <p><strong>Disclaimer:</strong><br /> This website only provides a service to help you play your video online without downloading.</p>
                  <button class='report block' id='reportBtn'>Report</button>
              </div>

              <!-- Alert Message -->
              <div class='alert'>
                  <p><strong>Solution:</strong> Video not playing? It may be due to codec issues. Please download and watch or use MX Player or VLC Player for better experience.</p>
              </div>

          </div> <!-- END containerbox -->
          
          <!-- Cache Section -->
          <div class='site-cache' id='site-cache'></div>
          
      </div> <!-- END site-content -->

      <!-- Footer -->
      <footer style='background-color:#2962ff;color:white;padding-top:.5em;padding-bottom:.5em;text-align:center'>
          ¬©
          <script type='text/javascript'>
              document.write(new Date().getFullYear());
          </script> Copyright:
          <a href='https://t.me/OMGxCloud' style='color:white;font-weight:bold;'> OMGxCLOUD</a>. All rights reserved.
      </footer>

    </div> <!-- END site-container -->

    <!-- Scripts -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src='https://cdn.plyr.io/3.6.12/plyr.js'></script>

    <!-- Custom JavaScript -->
    <script>
      // Telegram Bot Token and Chat ID
      const botToken = "YOUR_BOT_TOKEN"; // Replace with your Telegram bot token
      const chatID = "YOUR_CHAT_ID"; // Replace with your channel's chat ID

      // Report button functionality
      document.getElementById("reportBtn").addEventListener("click", function() {
          const reportedURL = window.location.href;

          const now = new Date();
          const day = now.toLocaleString('en-IN', { weekday:'long' });
          const date = now.toLocaleDateString('en-IN');
          const time = now.toLocaleTimeString('en-IN', { hour:'2-digit', minute:'2-digit', second:'2-digit' });

          const message = `
üö® New Report üö®
üîó Reported Link : ${reportedURL}
üìÖ Day : ${day}
üóìÔ∏è Date : ${date}
‚è∞ Time : ${time}`;

          fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
              method:'POST',
              headers:{ 'Content-Type': 'application/json' },
              body : JSON.stringify({ chat_id : chatID, text : message, parse_mode : 'HTML' })
          })
          .then(response => response.json())
          .then(data => alert(data.ok ? "Report submitted successfully!" : "Failed to submit report."));
      });

      // Video player setup
      document.addEventListener("DOMContentLoaded", () => {
          const controls = [
              'play-large', 'rewind', 'play', 'fast-forward',
              'progress', 'current-time', 'duration',
              'captions', 'settings', 'pip', 'airplay', 'fullscreen'
          ];
          
          Plyr.setup("#myVideo", { controls });
      });

      // Link modal functionality
      function showLinkModal(link) {
          var modal = document.getElementById("link-modal");
          modal.style.display = "block";
          
          var seconds = 5; // Countdown timer
          var timerElem = document.getElementById("link-timer");
          
          var interval = setInterval(function () {
              seconds--;
              timerElem.innerHTML = seconds;

              if (seconds === 0) {
                  clearInterval(interval);
                  window.location.href = link; // Redirect after countdown
                  closeLinkModal();
              }
          },1000);
      }

      function closeLinkModal() {
          document.getElementById("link-modal").style.display = "none";
      }
      
      // Prevent right-click and certain key combinations
      document.addEventListener('contextmenu', e => e.preventDefault());
      document.addEventListener('keydown', e => {
          if (e.key === 'F12' || (e.ctrlKey && (e.shiftKey && e.key === 'I') || e.key === 'u'))) {
              e.preventDefault();
          }
      });
      
    </script>

</body>
</html>
